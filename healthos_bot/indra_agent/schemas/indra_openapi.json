{"openapi":"3.1.0","info":{"title":"INDRA Network Search","version":"1.0.0"},"servers":[{"url":"/api"}],"paths":{"/xrefs":{"get":{"summary":"Get Xrefs","description":"Get all cross-refs given a namespace and ID\n\nParameters\n----------\nns :\n    The namespace of the entity to find cross-refs for\nid :\n    The identifier of the entity to find cross-regs for\n\nReturns\n-------\n:\n    A list of tuples containing namespace, identifier, lookup url to\n    identifiers.org","operationId":"get_xrefs_xrefs_get","parameters":[{"required":true,"schema":{"type":"string","title":"Ns"},"name":"ns","in":"query"},{"required":true,"schema":{"type":"string","title":"Id"},"name":"id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"items":{"type":"string"},"type":"array"},"type":"array","title":"Response Get Xrefs Xrefs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/node-name-in-graph":{"get":{"summary":"Node Name In Graph","description":"Check if node by provided name (case sensitive) exists in graph\n\nParameters\n----------\nnode_name :\n    The name of the node to check\n\nReturns\n-------\n:\n    When a match is found, the full information of the node is returned","operationId":"node_name_in_graph_node_name_in_graph_get","parameters":[{"required":true,"schema":{"type":"string","minLength":1,"title":"Node-Name"},"name":"node-name","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Node"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/node-id-in-graph":{"get":{"summary":"Node Id In Graph","description":"Check if a node by provided db name and db id exists\n\nParameters\n----------\ndb_name :\n    The database name, e.g. hgnc, chebi or up\ndb_id :\n    The identifier for the entity in the given database, e.g. 11018\n\nReturns\n-------\n:\n    When a match is found, the full information of the node is returned","operationId":"node_id_in_graph_node_id_in_graph_get","parameters":[{"required":true,"schema":{"type":"string","minLength":2,"title":"Db-Name"},"name":"db-name","in":"query"},{"required":true,"schema":{"type":"string","minLength":1,"title":"Db-Id"},"name":"db-id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Node"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/autocomplete":{"get":{"summary":"Get Prefix Autocomplete","description":"Get the case-insensitive node names with (ns, id) starting in prefix\n\nParameters\n----------\nprefix :\n    The prefix of a node name to search for. Note: for prefixes of\n    1 and 2 characters, only exact matches are returned. For 3+\n    characters, prefix matching is done. If the prefix contains ':',\n    an namespace:id search is done.\nmax_res :\n    The top ranked (by node degree) results will be returned, cut off at\n    this many results.\n\nReturns\n-------\n:\n    A list of tuples of (node name, namespace, identifier)","operationId":"get_prefix_autocomplete_autocomplete_get","parameters":[{"required":true,"schema":{"type":"string","minLength":1,"title":"Prefix"},"name":"prefix","in":"query"},{"required":false,"schema":{"type":"integer","title":"Max-Results","default":100},"name":"max-results","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"items":[{"type":"string"},{"type":"string"},{"type":"string"}],"type":"array","maxItems":3,"minItems":3},"type":"array","title":"Response Get Prefix Autocomplete Autocomplete Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health","description":"Returns health status\n\nReturns\n-------\nHealth","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Health"}}}}}}},"/status":{"get":{"summary":"Server Status","description":"Returns the status of the server and some info about the loaded graphs\n\nReturns\n-------\n:","operationId":"server_status_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerStatus"}}}}}}},"/query":{"post":{"summary":"Query","description":"Interface with IndraNetworkSearchAPI.handle_query\n\nParameters\n----------\nsearch_query : NetworkSearchQuery\n    Query to the NetworkSearchQuery\n\nReturns\n-------\nResults","operationId":"query_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NetworkSearchQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Results"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/multi_interactors":{"post":{"summary":"Multi Interactors","operationId":"multi_interactors_multi_interactors_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultiInteractorsRestQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultiInteractorsResults"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/subgraph":{"post":{"summary":"Sub Graph","description":"Interface with IndraNetworkSearchAPI.handle_subgraph_query\n\nParameters\n----------\nsearch_query: SubgraphRestQuery\n    Query to for IndraNetworkSearchAPI.handle_subgraph_query\n\nReturns\n-------\nSubgraphResults","operationId":"sub_graph_subgraph_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubgraphRestQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubgraphResults"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"EdgeData":{"properties":{"edge":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Edge"},"statements":{"additionalProperties":{"$ref":"#/components/schemas/StmtTypeSupport"},"type":"object","title":"Statements"},"belief":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Belief"},"weight":{"type":"number","minimum":0.0,"title":"Weight"},"context_weight":{"anyOf":[{"type":"string"},{"type":"number","exclusiveMinimum":0.0},{"type":"string","enum":["N/A"]}],"title":"Context Weight","default":"N/A"},"z_score":{"type":"number","title":"Z Score"},"logp":{"type":"number","title":"Logp"},"corr_weight":{"type":"number","exclusiveMinimum":0.0,"title":"Corr Weight"},"sign":{"type":"integer","maximum":1.0,"minimum":0.0,"title":"Sign"},"db_url_edge":{"type":"string","title":"Db Url Edge"},"source_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Source Counts","default":{}}},"type":"object","required":["edge","statements","belief","weight","db_url_edge"],"title":"EdgeData","description":"Data for one single edge"},"EdgeDataByHash":{"properties":{"edge":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Edge"},"stmts":{"additionalProperties":{"$ref":"#/components/schemas/StmtData"},"type":"object","title":"Stmts"},"belief":{"type":"number","title":"Belief"},"weight":{"type":"number","title":"Weight"},"db_url_edge":{"type":"string","title":"Db Url Edge"},"url_by_type":{"additionalProperties":{"type":"string"},"type":"object","title":"Url By Type"}},"type":"object","required":["edge","stmts","belief","weight","db_url_edge","url_by_type"],"title":"EdgeDataByHash","description":"Data for one single edge, with data keyed by hash"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Health":{"properties":{"status":{"type":"string","enum":["booting","available"],"title":"Status"}},"type":"object","required":["status"],"title":"Health","description":"Health status"},"MultiInteractorsRestQuery":{"properties":{"nodes":{"items":{"type":"string"},"type":"array","title":"Nodes"},"downstream":{"type":"boolean","title":"Downstream"},"allowed_ns":{"items":{"type":"string","minLength":1},"type":"array","title":"Allowed Ns"},"stmt_types":{"items":{"type":"string","minLength":1},"type":"array","title":"Stmt Types"},"source_filter":{"items":{"type":"string","minLength":1},"type":"array","title":"Source Filter"},"max_results":{"type":"integer","title":"Max Results","default":50},"node_blacklist":{"items":{"type":"string"},"type":"array","title":"Node Blacklist"},"belief_cutoff":{"type":"number","title":"Belief Cutoff","default":0.0},"curated_db_only":{"type":"boolean","title":"Curated Db Only","default":false},"timeout":{"type":"number","maximum":120.0,"minimum":5.0,"title":"Timeout","default":30}},"type":"object","required":["nodes","downstream"],"title":"MultiInteractorsRestQuery","description":"Multi interactors rest query"},"MultiInteractorsResults":{"properties":{"targets":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Targets"},"regulators":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Regulators"},"edge_data":{"items":{"$ref":"#/components/schemas/EdgeData"},"type":"array","title":"Edge Data","default":[]}},"type":"object","required":["targets","regulators"],"title":"MultiInteractorsResults","description":"Results post direct_multi_interactors"},"NetworkSearchQuery":{"properties":{"source":{"type":"string","title":"Source","default":""},"target":{"type":"string","title":"Target","default":""},"stmt_filter":{"items":{"type":"string"},"type":"array","title":"Stmt Filter","default":[]},"filter_curated":{"type":"boolean","title":"Filter Curated","default":true},"allowed_ns":{"items":{"type":"string"},"type":"array","title":"Allowed Ns","default":[]},"node_blacklist":{"items":{"type":"string"},"type":"array","title":"Node Blacklist","default":[]},"path_length":{"type":"integer","title":"Path Length"},"depth_limit":{"type":"integer","title":"Depth Limit","default":2},"sign":{"type":"integer","maximum":1.0,"minimum":0.0,"title":"Sign"},"weighted":{"type":"string","enum":["belief","context","z_score","unweighted"],"title":"Weighted","default":"unweighted"},"belief_cutoff":{"anyOf":[{"type":"number"},{"type":"boolean"}],"title":"Belief Cutoff","default":0.0},"curated_db_only":{"type":"boolean","title":"Curated Db Only","default":false},"fplx_expand":{"type":"boolean","title":"Fplx Expand","default":false},"k_shortest":{"type":"integer","title":"K Shortest","default":50},"max_per_node":{"type":"integer","title":"Max Per Node","default":5},"cull_best_node":{"type":"integer","title":"Cull Best Node"},"mesh_ids":{"items":{"type":"string"},"type":"array","title":"Mesh Ids","default":[]},"strict_mesh_id_filtering":{"type":"boolean","title":"Strict Mesh Id Filtering","default":false},"const_c":{"type":"integer","title":"Const C","default":1},"const_tk":{"type":"integer","title":"Const Tk","default":10},"user_timeout":{"anyOf":[{"type":"number"},{"type":"boolean"}],"title":"User Timeout","default":30},"two_way":{"type":"boolean","title":"Two Way","default":false},"shared_regulators":{"type":"boolean","title":"Shared Regulators","default":false},"terminal_ns":{"items":{"type":"string"},"type":"array","title":"Terminal Ns","default":[]},"format":{"type":"string","title":"Format","default":"json"}},"additionalProperties":false,"type":"object","title":"NetworkSearchQuery","description":"The query model for network searches"},"Node":{"properties":{"name":{"type":"string","minLength":1,"title":"Name"},"namespace":{"type":"string","minLength":1,"title":"Namespace"},"identifier":{"type":"string","minLength":1,"title":"Identifier"},"lookup":{"type":"string","minLength":1,"title":"Lookup"},"sign":{"type":"integer","maximum":1.0,"minimum":0.0,"title":"Sign"}},"type":"object","required":["namespace","identifier"],"title":"Node","description":"Data for a node"},"OntologyResults":{"properties":{"source":{"$ref":"#/components/schemas/Node"},"target":{"$ref":"#/components/schemas/Node"},"parents":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Parents"}},"type":"object","required":["source","target","parents"],"title":"OntologyResults","description":"Results for shared_parents"},"Path":{"properties":{"path":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Path"},"edge_data":{"items":{"$ref":"#/components/schemas/EdgeData"},"type":"array","title":"Edge Data"}},"type":"object","required":["path","edge_data"],"title":"Path","description":"Results for a single path"},"PathResultData":{"properties":{"source":{"$ref":"#/components/schemas/Node"},"target":{"$ref":"#/components/schemas/Node"},"paths":{"additionalProperties":{"items":{"$ref":"#/components/schemas/Path"},"type":"array"},"type":"object","title":"Paths"}},"type":"object","required":["paths"],"title":"PathResultData","description":"Results for any of the path algorithms"},"Results":{"properties":{"query_hash":{"type":"string","title":"Query Hash"},"time_limit":{"type":"number","title":"Time Limit"},"timed_out":{"type":"boolean","title":"Timed Out"},"hashes":{"items":{"type":"string"},"type":"array","title":"Hashes","default":[]},"path_results":{"$ref":"#/components/schemas/PathResultData"},"reverse_path_results":{"$ref":"#/components/schemas/PathResultData"},"ontology_results":{"$ref":"#/components/schemas/OntologyResults"},"shared_target_results":{"$ref":"#/components/schemas/SharedInteractorsResults"},"shared_regulators_results":{"$ref":"#/components/schemas/SharedInteractorsResults"}},"type":"object","required":["query_hash","time_limit","timed_out"],"title":"Results","description":"The model wrapping all results from the NetworkSearchQuery"},"ServerStatus":{"properties":{"unsigned_nodes":{"type":"integer","title":"Unsigned Nodes","description":"Number of unsigned nodes in the graph"},"signed_nodes":{"type":"integer","title":"Signed Nodes","description":"Number of signed nodes in the graph"},"unsigned_edges":{"type":"integer","title":"Unsigned Edges","description":"Number of unsigned edges in the graph"},"signed_edges":{"type":"integer","title":"Signed Edges","description":"Number of signed edges in the graph"},"graph_date":{"type":"string","format":"date","title":"Graph Date","description":"Date of the graph creation from the database"},"status":{"type":"string","enum":["booting","available"],"title":"Status","description":"Status of the server"}},"type":"object","required":["status"],"title":"ServerStatus","description":"Status with more detail than health"},"SharedInteractorsResults":{"properties":{"source_data":{"items":{"$ref":"#/components/schemas/EdgeData"},"type":"array","title":"Source Data"},"target_data":{"items":{"$ref":"#/components/schemas/EdgeData"},"type":"array","title":"Target Data"},"downstream":{"type":"boolean","title":"Downstream"}},"type":"object","required":["source_data","target_data","downstream"],"title":"SharedInteractorsResults","description":"Results for shared targets and shared regulators"},"StmtData":{"properties":{"stmt_type":{"type":"string","title":"Stmt Type"},"evidence_count":{"type":"integer","minimum":1.0,"title":"Evidence Count"},"stmt_hash":{"anyOf":[{"type":"integer"},{"type":"string","maxLength":2083,"minLength":1,"format":"uri"}],"title":"Stmt Hash"},"source_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Source Counts"},"belief":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Belief"},"curated":{"type":"boolean","title":"Curated"},"english":{"type":"string","title":"English"},"weight":{"type":"number","title":"Weight"},"residue":{"type":"string","title":"Residue","default":""},"position":{"type":"string","title":"Position","default":""},"initial_sign":{"type":"integer","maximum":1.0,"minimum":0.0,"title":"Initial Sign"},"db_url_hash":{"type":"string","title":"Db Url Hash"}},"type":"object","required":["stmt_type","evidence_count","stmt_hash","source_counts","belief","curated","english","db_url_hash"],"title":"StmtData","description":"Data for one statement supporting an edge"},"StmtTypeSupport":{"properties":{"stmt_type":{"type":"string","title":"Stmt Type"},"source_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Source Counts","default":{}},"statements":{"items":{"$ref":"#/components/schemas/StmtData"},"type":"array","title":"Statements"}},"type":"object","required":["stmt_type","statements"],"title":"StmtTypeSupport","description":"Data per statement type"},"SubgraphRestQuery":{"properties":{"nodes":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","maxItems":4000,"minItems":1,"title":"Nodes"},"timeout":{"type":"number","maximum":590.0,"minimum":1.0,"title":"Timeout","default":590}},"type":"object","required":["nodes"],"title":"SubgraphRestQuery","description":"Subgraph query"},"SubgraphResults":{"properties":{"input_nodes":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Input Nodes"},"not_in_graph":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Not In Graph"},"available_nodes":{"items":{"$ref":"#/components/schemas/Node"},"type":"array","title":"Available Nodes"},"edges":{"items":{"$ref":"#/components/schemas/EdgeDataByHash"},"type":"array","title":"Edges"}},"type":"object","required":["input_nodes","not_in_graph","available_nodes","edges"],"title":"SubgraphResults","description":"Results for get_subgraph_edges"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}